<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Client</title>

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
  </head>
  <body></body>

  <script>
    function renderProducts(products) {
      return `<div class="container">
                <div class="p-2 bg-dark text-white"><h3>Products</h3></div>
                <div class="row mt-3" id="products">
                    ${products
                      .map(
                        (product) =>
                          `<div class="col-md-3">${renderProductData(
                            product
                          )}</div>`
                      )
                      .join("")}
                </div>
            </div>`;
    }

    function renderProductData(product) {
      console.log(product);

      return `<div class="card">
                    <img src="${product.imgThumb}" class="card-img-top" alt="${
        product.description
      }">
                    <div class="card-body">
                        <h5 class="card-title">${product.userName}</h5>
                        <p class="card-text">${product.tags
                          .slice(0, 3)
                          .join(", ")}</p>
                    </div>
            </div>`;
    }

    function fetchJSON(url) {
      return fetch(url).then((res) => res.json());
    }

    fetchJSON("http://localhost:1337/products").then(
      (products) => (document.body.innerHTML = renderProducts(products))
    );
  </script>
</html>
